Feature: Производительность эндпоинтов пользователей
  Scenario: p95 эндпоинтов /users держится под порогом на stage
    Given сервис развернут на stage и нагрузка 50 RPS
    When запускается 5-минутный нагрузочный тест
    Then p95 времени ответа для POST /users ≤ 300 ms

Feature: Производительность эндпоинтов медиа
  Scenario: p95 эндпоинтов /media держится под порогом на stage
    Given сервис развернут на stage и нагрузка 50 RPS
    When запускается 5-минутный нагрузочный тест
    Then p95 времени ответа для POST /media ≤ 300 ms

Feature: Защита от SQL-инъекций
  Scenario: Все запросы к БД используют SQLAlchemy ORM
    Given выполняется любой запрос к базе данных
    When проверяется код запроса
    Then запрос выполняется через SQLAlchemy ORM

Feature: Доступность API
  Scenario: Сервис доступен 95% времени в месяц
    Given сервис работает в production окружении
    When проходит месяц (30 дней)
    Then uptime сервиса составляет >= 99.5 %

Feature: Безопасность зависимостей
  Scenario: Критические уязвимости устраняются в срок
    Given в зависимостях обнаружена уязвимость уровня High/Critical
    When проходит 7 дней с момента обнаружения
    Then уязвимость устранена обновлением зависимости
