# ADR-002: Rate Limiting для защиты эндпоинтов

Дата: 2025-09-22
Статус: Accepted

## Decision
Внедрить rate limiting на уровне приложения для критических эндпоинтов:
- `/login`: максимум 10 попыток в минуту с одного IP
- `/users` и `/media`: максимум 100 запросов в минуту с одного IP
- Общий лимит: 1000 запросов в час с одного IP

Использовать алгоритм "скользящее окно". При превышении лимита возвращать ошибку 429 Too Many Requests.

## Consequences
**Плюсы:**
- Защита от DDoS и брутфорс атак
- Обеспечение доступности для легитимных пользователей

**Минусы:**
- Дополнительная нагрузка на инфраструктуру

## Links
- NFR-03, NFR-04 (Производительность)
- R1, R9, R12, R13 (DDoS риски)
- tests/test_rate_limiting.py
